<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link href="https://fonts.googleapis.com/css?family=Press+Start+2P&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="style/main.css">
        <script src="https://kit.fontawesome.com/925c7d51c3.js" crossorigin="anonymous"></script>
        <script src="https://d3js.org/d3-color.v1.min.js"></script>
        <script src="https://d3js.org/d3-interpolate.v1.min.js"></script>
        <script src="src/main.js" type="module"></script>
        <title>Game of life</title>
    </head>
    <body>
        <div class="text">GAME OF LIFE</div>
        <div class="container">
            <div class="time">
                <input type="range" min="0" max="2000" step="50" value="1000" class="slider">
                <output for="slider" class="num"><span>Time:</span>1.00s</output>
            </div>
            <div class="music">
                <audio src="sound/1.mp3" loop controls class="track1 sound"></audio>
                <audio src="sound/2.mp3" loop controls class="track2 sound"></audio>
                <audio src="sound/3.mp3" loop controls class="track3 sound"></audio>
                <audio src="sound/4.mp3" loop controls class="track4 sound"></audio>
                <audio src="sound/5.mp3" loop controls class="track5 sound"></audio>
                <audio src="sound/6.mp3" loop controls class="track6 sound"></audio>
            </div>
        </div>
        <div class="main-container">
            <div class="buttons-container">
                <button class="start button"><i class="fas fa-play"></i></button>
                <button class="pause button"><i class="fas fa-pause"></i></button>
                <button class="stop button"><i class="fas fa-stop"></i></button>
                <button class="drow button"><i class="fas fa-pencil-ruler"></i></button>
                <button class="random button"><i class="fas fa-random"></i></button>
                <a href="#open-modal"><button class="info button"><i class="fas fa-question"></i></button></a>
                
            </div>
            <div class="grid">
                <canvas></canvas>
            </div>      
            <div class="palette-container"></div>
        </div>        
  <!-- ================================= MODAL WINDOW ================================================== -->
        <div class="modal" id="open-modal">
            <div class="modal-container">
                <div class="head-container">
                    <a href="#modal-close"><button class="btn-close button">X</button></a>
                    <p class="header">
                        Добро пожаловать в игру "жизнь"!
                    </p>
                </div>
                <div class="main-modal-container">
    
                    <img src="img/help.png" alt="help" class="help">
                    Для начала игры необходимо сгенерировать поле либо нарисовать вручную. <br> <br>
                    Далее необходимо выбрать время генерации нового поколения ползунком сверху. <br> <br>
                    Затем нажать кнопку СТАРТ. <br> <br>
                    Для того чтобы изменить время генерации необходимо нажать на ПАУЗУ и передвинуть верхний ползунок на необходимое значение, затем снова нажать кнопку СТАРТ.<br><br>
                    Бонус: можно нарисовать свое поле используя палитру цветов, которая появляется при нажатии на соответствующую кнопку.<br><br>
    
                    <div class="history">
                        <h3>Происхождение</h3>
                        <hr>
                        <p>
                            Джон Конвей заинтересовался проблемой, предложенной в 1940-х годах известным математиком Джоном фон Нейманом, который пытался создать гипотетическую машину, которая может воспроизводить сама себя. Джону фон Нейману удалось создать математическую модель такой машины с очень сложными правилами. Конвей попытался упростить идеи, предложенные Нейманом, и в конце концов ему удалось создать правила, которые стали правилами игры «Жизнь».
            
                            Впервые описание этой игры было опубликовано в октябрьском (1970 год) выпуске журнала Scientific American, в рубрике «Математические игры» Мартина Гарднера (Martin Gardner).
                        </p>
                        <br>
                        <p>Правила</p>
                        <hr>
                        <p>
                            Место действия этой игры — «вселенная» — это размеченная на клетки поверхность или плоскость — безграничная, ограниченная, или замкнутая (в пределе — бесконечная плоскость).
                        </p>
                    
                
                        <p>
                            Каждая клетка на этой поверхности может находиться в двух состояниях: быть «живой» (заполненной) или быть «мёртвой» (пустой). Клетка имеет восемь соседей, окружающих её.
                        </p>
                        <p>
                            Распределение живых клеток в начале игры называется первым поколением. Каждое следующее поколение рассчитывается на основе предыдущего по таким правилам:
                        </p>
                        <p>
                            в пустой (мёртвой) клетке, рядом с которой ровно три живые клетки, зарождается жизнь;
                        </p>
                        <p>
                            если у живой клетки есть две или три живые соседки, то эта клетка продолжает жить; в противном случае, если соседей меньше двух или больше трёх, клетка умирает («от одиночества» или «от перенаселённости»)
                        </p>
                        <p>
                            Игра прекращается, если
                        </p>
                        <p>
                            на поле не останется ни одной «живой» клетки
                        </p>
                        <p>
                            конфигурация на очередном шаге в точности (без сдвигов и поворотов) повторит себя же на одном из более ранних шагов (складывается периодическая конфигурация)
                        </p>
                        <p>
                            при очередном шаге ни одна из клеток не меняет своего состояния (складывается стабильная конфигурация; предыдущее правило, вырожденное до одного шага назад)
                        </p>
                        <p>
                            Эти простые правила приводят к огромному разнообразию форм, которые могут возникнуть в игре.
                        </p>
        
                        <p>
                            Игрок не принимает прямого участия в игре, а лишь расставляет или генерирует начальную конфигурацию «живых» клеток, которые затем взаимодействуют согласно правилам уже без его участия (он является наблюдателем).
                        </p>
                    </div>
                </div>   
            </div>
        </div>
    </body>
</html>